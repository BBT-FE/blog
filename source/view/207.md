---
title: 闭包机制
date:
tag:
 - 出云
photos:
 
---
<!-- 引言（简介） -->
  
<!--more-->

<!-- 详细内容 -->
闭包是基于词法作用域书写代码时所产生的自然结果，将内部函数当做一个返回值类型进行传递，避免了被垃圾机制回收，一般情况下的回调都能当做一个闭包


当一个内部函数被其外部函数之外的变量引用时 定义函数 A => 在A里定义函数B => 执行A，拿到A的返回结果 => 被其他变量引用
使用闭包主要是为了设计私有的方法和变量。闭包的优点是可以避免全局变量的污染，缺点是闭包会常驻内存，会增大内存使用量，使用不当很容易造成内存泄露。在js中，函数即闭包，只有函数才会产生作用域的概念


闭包有三个特性：

1.函数嵌套函数
2.函数内部可以引用外部的参数和变量
3.参数和变量不会被垃圾回收机制回收

 ```js
  // 数组求和 闭包方式
  function qiuhe(arr) {
    var sum = function() {
      return arr.reduce(function(x, y) {
        return s = x + y
      })
    }
    return sum
  }
  var Array = [1,2,3,4,5]
  var f = qiuhe(Array)
  f()
 ```
